(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(30),s=n.n(c),i=n(11),u=n(3),o=n(33),l=n(4),p=n.n(l),d=n(10),j=n(14),b=n(12),f=n.n(b),h=n(1),x=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(j.a)(c,2),u=s[0],l=s[1];Object(r.useEffect)(Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://swapi.dev/api/films/",{cache:!0});case 2:for(t=(t=e.sent).data.results,n=0;n<t.length;n++)t[n]={episode_id:t[n].episode_id,title:t[n].title};a(t),l(t);case 7:case"end":return e.stop()}}),e)}))),[]);function b(e,t){return e.title<t.title?-1:e.title>t.title?1:0}return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"grid menu-block",children:[Object(h.jsx)("input",{className:"margin-0-auto menu-block__search",type:"text",placeholder:"search",onChange:function(e){return function(e){l(n.filter((function(t){return t.title.toLowerCase().split(" ").join("").indexOf(e.target.value.split(" ").join("").toLowerCase())>-1})))}(e)}}),Object(h.jsx)("button",{className:"margin-0-auto menu-block__sort",onClick:function(){l(Object(o.a)(u).sort(b))},children:"Sort"})]}),Object(h.jsx)("ul",{className:"flex grid-gap grid-justify-center margin-0-auto all-films",children:u.map((function(e,t){return Object(h.jsx)("li",{className:"grid grid-align-center text-center film",children:Object(h.jsx)(i.b,{className:"grid grid-align-center",to:"/swapi/films/"+e.episode_id,children:e.title})},t)}))})]})},m=n(6),O=Object(m.a)(),v=function(e){switch(e){case"people":return"name";case"films":return"title";case"starships":case"vehicles":return"model";case"planets":case"species":case"resident":return"name"}},w=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(t,{cache:!0});case 2:return r=e.sent,e.abrupt("return",{name:r.data[n],id:t.split("/")[4]+"/"+t.split("/")[5]});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],0!==t.length){e.next=3;break}return e.abrupt("return",[]);case 3:r=t.length>0?t[0].split("/")[4]:"",a=v(r),c=0;case 6:if(!(c<t.length)){e.next=14;break}return e.next=9,w(t[c],a);case 9:s=e.sent,n.push(s);case 11:c++,e.next=6;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p.a.keys(t);case 1:if((e.t1=e.t0()).done){e.next=16;break}if(n=e.t1.value,!Array.isArray(t[n])||"object"===typeof t[n][0]){e.next=8;break}return e.next=6,g(t[n]);case 6:return t[n]=e.sent,e.abrupt("continue",1);case 8:if("number"===typeof t[n]||null===t[n]){e.next=14;break}if("http"!==t[n].split("://")[0]){e.next=14;break}return e.next=12,w(t[n],v(t[n].split("/")[5]));case 12:e.t2=e.sent,t[n]=[e.t2];case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href.split("/"),e.next=3,f.a.get("http://swapi.dev/api/"+t[5]+("peoples"===t[5]?"people":"")+"/"+t[6],{cache:!0});case 3:return n=e.sent,r=n.data,e.next=7,delete(a=r).url,delete a.created,void delete a.edited;case 7:return e.next=9,k(r);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t="#"===window.location.href.split("/")[3];return Object(h.jsx)(h.Fragment,{children:Object.keys(e).map((function(n,r){var a=n.replace(/(_id)|_/," ");return a=a.charAt(0).toUpperCase()+a.substr(1),Object(h.jsxs)("div",{className:"parameter",children:[Object(h.jsx)("h2",{className:"parameter__title",children:a}),Array.isArray(e[n])&&e[n].length>0?e[n].map((function(e,n){return Object(h.jsx)(i.b,{className:"parameter__link",to:"/".concat(t?"swapi/":"").concat(e.id),children:"".concat(e.name,", ")},n)})):Object(h.jsx)("span",{className:"parameter__text",children:e[n]})]},r)}))})},N=n(32),A=n.n(N),S=function(){var e=Object(r.useState)({}),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(j.a)(c,2),i=s[0],u=s[1];return Object(r.useEffect)(Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.t0=a,e.next=4,y();case 4:e.t1=e.sent,(0,e.t0)(e.t1),u(!0);case 7:case"end":return e.stop()}}),e)}))),[window.location.href]),Object(h.jsx)("div",{children:i?_(n):Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)(A.a,{type:"Oval",color:"#efd91d",height:250,width:250})})})},C=function(){var e="#"===window.location.href.split("/")[3];return console.log(e),Object(h.jsxs)(i.a,{history:O,children:[Object(h.jsx)(i.b,{className:"margin-0-auto text-center title",to:(e?"/swapi":"")+"/films",children:"star wars"}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:(e?"/swapi":"")+"/:path/:id",component:S,exact:!0}),Object(h.jsx)(u.b,{path:(e?"/swapi":"")+"/films",component:x,exact:!0}),Object(h.jsx)(u.b,{path:"*",render:function(){return Object(h.jsx)(u.a,{to:(e?"/swapi":"")+"/films"})}})]})]})};var E=function(){return Object(h.jsx)("div",{className:"margin-0-auto App",children:Object(h.jsx)(C,{})})};n(81);s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.5edb06c2.chunk.js.map